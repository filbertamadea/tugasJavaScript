<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FETCH API</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
	<div class="container">
		<div class="d-flex">
			<button class="btn btn-success mr-4" id="getUsers">Get Users Json</button>
		</div>
		<hr>
		<p id="output"></p>
	</div>
	<script>
		document.getElementById('getUsers').addEventListener('click', getUsers);

		function getUsers() {
			fetch('generated.json')
			.then((res) => res.json())
			.then((data) => {
				let output = '<h2 class="mb-4">Users</h2>';
				console.log(data);
				data.forEach((user) => {
					output += `
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Address</th>
                                <th scope="col">Company Phone</th>
                                <th scope="col">Phone Number</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>${user._id}</td>
                                <td>${user.name}</td>
                                <td>@${user.email}</td>
                                <td>@${user.address}</td>
                                <td>@${user.companyPhone}</td>
                                <td>@${user.phone}</td>
                            </tr>
                        </tbody>
                    </table>
					`;
				});
				document.getElementById('output').innerHTML = output;
			})
			.catch((err) => console.log(err));
		}
	</script>
</body>
</html>